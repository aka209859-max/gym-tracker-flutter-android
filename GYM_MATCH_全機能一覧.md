# GYM MATCH - 全機能一覧（詳細版）

**作成日**: 2025-11-28  
**バージョン**: v1.0.99 (iOS審査提出中)  
**プラットフォーム**: iOS専用  

---

## 📱 アプリ概要

**GYM MATCH**は、ジム検索・トレーニング記録・AI分析を統合した筋トレアプリ。  
全国のジムをリアルタイム混雑度付きで検索し、詳細なトレーニング記録とAIコーチングで成長をサポート。

---

## 🗂️ 機能カテゴリ

### 1️⃣ **認証・アカウント管理**
- **匿名ログイン** - Firebase Anonymous Auth、アカウント作成不要で即利用開始
- **パスワード認証** - 開発者メニュー・管理機能用のロック解除
- **プロフィール編集** - ユーザー名・年齢・性別・経験年数・目標設定
- **個人要因設定** - 睡眠時間・タンパク質摂取量・アルコール量（AI成長予測補正用）

---

### 2️⃣ **ジム検索・混雑度表示**

#### 🗺️ **マップ検索機能**
- **Google Maps統合** - リアルタイムジム位置表示
- **GPS位置検索** - 現在地周辺のジム自動検索
- **カスタムマーカー** - 混雑度別色分け表示（青・緑・黄・橙・赤）
- **エリア検索** - 都道府県・市区町村でのフィルタリング

#### 📍 **ジム詳細情報**
- **基本情報表示** - 名称・住所・電話番号・営業時間・定休日
- **リアルタイム混雑度** - 5段階表示（空いている～非常に混雑）
- **混雑度推定ロジック**
  - ユーザーレポート（24時間有効）最優先
  - キャッシュデータ（過去の傾向）
  - 統計推定（評価・時間帯・口コミ数から算出）
- **設備情報** - フリーウェイト・マシン・有酸素設備・シャワー等
- **写真ギャラリー** - ジム内部・設備の写真
- **営業時間詳細** - 曜日別営業時間表示
- **Google Maps連携** - ワンタップでルート検索

#### 📊 **混雑度レポート機能**
- **ユーザー投稿** - 現在の混雑度を5段階でレポート
- **自動反映** - レポート送信でジム混雑度即座に更新
- **24時間有効** - 投稿後24時間は最優先で表示

#### ⭐ **レビュー機能**（Premium以上）
- **5段階評価** - 星1～5で評価
- **コメント投稿** - 詳細レビューテキスト
- **評価自動反映** - 投稿でジム平均評価リアルタイム再計算

#### ❤️ **お気に入り機能**（Premium以上）
- **無制限保存** - よく行くジムをブックマーク
- **お気に入り一覧** - 保存したジムを素早くアクセス
- **混雑度通知** - お気に入りジムの混雑状況変化を通知（予定）

#### 🔍 **検索・フィルター**
- **キーワード検索** - ジム名・住所で検索
- **エリアフィルター** - 都道府県・市区町村
- **設備フィルター** - フリーウェイト・マシン・シャワー等
- **営業時間フィルター** - 24時間営業・早朝・深夜営業

#### 📜 **訪問履歴**
- **自動記録** - トレーニング記録時にジム訪問を自動保存
- **訪問回数カウント** - ジムごとの訪問回数表示
- **訪問日時一覧** - 過去の訪問履歴をリスト表示

---

### 3️⃣ **トレーニング記録（全プラン共通）**

#### ✍️ **トレーニング記録入力**
- **詳細記録** - 種目・重量・回数・セット数・RPE・メモ
- **カレンダー表示** - トレーニング日を視覚的に確認
- **日別記録一覧** - 選択した日のワークアウト詳細表示
- **種目別セット管理** - 種目ごとに複数セット記録
- **セットタイプ選択**
  - **Normal**: 通常セット
  - **Warmup**: ウォームアップセット
  - **Superset**: スーパーセット（複数種目連続）
  - **Dropset**: ドロップセット（重量を下げて続行）
- **RPE入力** - 主観的運動強度（1～10）
- **失敗フラグ** - セット失敗を記録（次回の重量調整用）
- **完了フラグ** - セット完了状態の管理

#### 📝 **ワークアウトメモ**
- **メモ記録** - 各トレーニングに自由記述メモ
- **メモ一覧表示** - 過去のメモをリスト表示
- **検索機能** - メモ内容で検索

#### 🏋️ **種目データベース**
- **豊富な種目登録** - 主要トレーニング種目プリセット
- **カスタム種目追加** - ユーザー独自の種目登録
- **部位別分類** - 胸・背中・脚・肩・腕・体幹・有酸素

#### 📋 **テンプレート機能**
- **ワークアウトテンプレート作成** - よく行うメニューを保存
- **テンプレート適用** - 保存したメニューを即座に読み込み
- **テンプレート編集** - 既存テンプレートの修正
- **テンプレート削除** - 不要なテンプレート削除

#### 📥 **CSV一括インポート**
- **CSVファイル読み込み** - 他アプリからのデータ移行
- **一括登録** - 大量のトレーニングデータを一度に登録
- **プレビュー機能** - インポート前にデータ確認

#### 📤 **CSVエクスポート**
- **データ出力** - トレーニング記録をCSV形式で出力
- **バックアップ** - データのバックアップ作成

#### 🗓️ **カレンダービュー**
- **月間カレンダー** - トレーニング日を一目で確認
- **トレーニング日マーク** - 記録がある日に印表示
- **日付選択** - カレンダーから日付を選んで記録閲覧

#### 📊 **統計ダッシュボード**
- **7日間総挙上重量** - 直近1週間のトータルボリューム
- **今月総挙上重量** - 今月のトータルボリューム
- **全期間総挙上重量** - アプリ使用開始からの累計
- **月間ワークアウト日数** - 今月のトレーニング実施日数
- **総経過日数** - 初回記録からの経過日数

#### 🏅 **パーソナルレコード（PR）自動追跡**
- **自動PR更新** - トレーニング記録時に最大重量を自動判定・更新
- **種目別PR一覧** - 全種目のパーソナルベスト表示
- **PR達成日記録** - いつPRを達成したか記録
- **PR通知** - 新記録達成時に通知（予定）

#### 📈 **部位別トラッキング**
- **部位別ボリューム** - 胸・背中・脚等の部位別トレーニング量
- **バランス確認** - 部位間のトレーニングバランスチェック
- **週間推移** - 週ごとの部位別トレーニング量推移

---

### 4️⃣ **AI機能（有料プラン）**

#### 🤖 **AIトレーニングコーチング**（Gemini 2.0 Flash）
- **部位別メニュー生成** - 胸・背中・脚・肩・腕・体幹・有酸素の最適メニュー
- **初心者モード** - フォーム重視の安全なメニュー
- **中級者モード** - ボリューム重視のメニュー
- **上級者モード** - 高強度・高頻度メニュー
- **メニュー保存** - 生成したメニューをテンプレート保存
- **履歴管理** - 過去に生成したメニューを確認
- **使用回数制限**
  - 無料: 広告視聴で月3回
  - Premium: 月10回
  - Pro: 月30回
  - 追加購入: ¥300/5回

#### 📊 **AI成長予測**（Premium以上）
- **1RM予測** - 現在の記録から理論的最大挙上重量を予測
- **成長曲線予測** - 今後の筋力成長トレンドを予測
- **個人要因補正** - 年齢・経験年数・睡眠・栄養・飲酒で補正
- **科学的根拠ベース** - スポーツ科学データベース活用

#### 🧪 **トレーニング効果分析**（Premium以上）
- **週次レポート自動生成** - 毎週のトレーニング効果を自動分析
- **総挙上重量計算** - 週間トータルボリューム算出
- **部位別分析** - 部位ごとのトレーニング量分析
- **前週比較** - 前週との比較・変化率
- **改善提案** - AIによる改善アドバイス

#### 💪 **疲労管理システム**
- **疲労度自動計算** - トレーニング量から疲労度推定
- **部位別疲労度** - 各部位の疲労状態表示
- **回復推奨** - 疲労蓄積時に休息を推奨
- **オーバートレーニング警告** - 過度なトレーニングを警告

---

### 5️⃣ **計算ツール（全プラン共通）**

#### 🧮 **RM計算機**
- **1RM計算** - 実施重量・回数から最大挙上重量を計算
- **複数公式対応** - Epley・Brzycki・Lander等の計算式
- **%1RM逆算** - 目標%から使用重量を逆算
- **重量推奨** - トレーニング目的別の重量推奨

#### 📏 **体組成計算機**
- **BMI計算** - 身長・体重からBMI算出
- **体脂肪率推定** - 簡易的な体脂肪率推定
- **除脂肪体重算出** - 筋肉量の推定

#### 📐 **カロリー計算機**
- **TDEE計算** - 基礎代謝・活動量から1日消費カロリー算出
- **目標別推奨カロリー** - 減量・維持・増量別の推奨摂取量

---

### 6️⃣ **目標・達成管理（全プラン共通）**

#### 🎯 **目標設定**
- **体重目標** - 目標体重・期限設定
- **種目別目標** - 各種目の目標重量設定
- **期限管理** - 目標達成期限の設定
- **達成判定** - 自動で目標達成を判定

#### 🏆 **達成バッジシステム**
- **バッジ獲得** - 特定条件達成でバッジ解放
- **バッジ一覧** - 獲得済み・未獲得バッジ表示
- **達成率表示** - 全バッジ中の獲得率
- **バッジ種類**
  - 継続バッジ（連続記録日数）
  - ボリュームバッジ（総挙上重量）
  - PR達成バッジ（自己記録更新）
  - 種目別バッジ（特定種目達成）

---

### 7️⃣ **トレーニングパートナー機能（Proプラン）**

#### 👥 **パートナー検索**
- **条件検索** - 距離・目標・経験・年齢・性別・曜日・時間帯でマッチング
- **プロフィール閲覧** - 他ユーザーのトレーニングプロフィール表示
- **検索結果一覧** - マッチング度順に表示
- **距離フィルター** - 現在地から指定範囲内で検索

#### 💬 **メッセージング機能**（Proプラン）
- **チャット機能** - パートナーとの1対1メッセージ
- **チャットルーム一覧** - 会話中のルーム表示
- **最終メッセージ表示** - 各ルームの最新メッセージ
- **リアルタイム更新** - 新着メッセージをリアルタイム受信

#### 🤝 **フレンドリクエスト**
- **リクエスト送信** - トレーニングパートナーに申請
- **リクエスト受信** - 他ユーザーからの申請確認
- **承認・拒否** - リクエストへの対応
- **リクエスト一覧** - 送信済み・受信済みリクエスト表示

#### 👤 **パートナープロフィール**
- **プロフィール編集** - 自己紹介・目標・経験レベル設定
- **トレーニング情報** - よく行う種目・曜日・時間帯
- **位置情報** - 活動エリア設定

---

### 8️⃣ **サブスクリプション・課金**

#### 💳 **プラン管理**
- **プラン一覧表示** - 無料・Premium・Proの比較
- **月額/年額切り替え** - トグルで表示切り替え（デフォルト年額）
- **割引表示** - 年額プランの割引率・節約金額表示
- **無料トライアル表示** - Premium 30日、Pro 14日
- **現在のプラン表示** - ユーザーの現在の課金状態

#### 🛒 **アプリ内課金（RevenueCat）**
- **サブスクリプション購入** - Premium/Pro プラン購入
- **購入復元** - 他デバイスで購入したプランを復元（Apple審査必須）
- **AI追加パック購入** - ¥300/5回の追加購入
- **価格自動取得** - App Store Connectから実際の価格取得
- **購入キャンセル対応** - ユーザーキャンセル時の適切な処理

#### 📊 **プラン同期**
- **RevenueCat連携** - 課金状態をRevenueCatと同期
- **Firestore保存** - プラン情報をFirestoreに保存
- **リアルタイム更新** - 購入・キャンセル時に即座に反映

---

### 9️⃣ **SNS・シェア機能**

#### 📤 **トレーニング記録シェア**
- **画像生成** - トレーニング記録を画像化
- **SNSシェア** - Twitter・Instagram・LINE等に共有
- **カスタムデザイン** - シェア画像のデザインカスタマイズ
- **ハッシュタグ自動付与** - #GymMatch 等のタグ自動追加

#### 📸 **スクリーンショット共有**
- **スクリーンショット撮影** - アプリ内で画面キャプチャ
- **即座にシェア** - 撮影後すぐにSNS投稿

---

### 🔟 **パートナージム機能（ジムオーナー向け）**

#### 🏢 **ジムオーナーダッシュボード**
- **ジム情報編集** - 営業時間・設備・写真の管理
- **お知らせ投稿** - ジム利用者へのアナウンス
- **設備情報更新** - 保有設備の追加・削除
- **写真アップロード** - ジム内部・設備の写真投稿

#### 📊 **アナリティクス**
- **閲覧数統計** - ジム詳細ページの閲覧数
- **お気に入り数** - ユーザーのブックマーク数
- **混雑度レポート統計** - ユーザー投稿の混雑度レポート集計

#### 🎟️ **予約管理機能（開発中）**
- **予約受付設定** - PT・施設予約の受付可否
- **予約一覧** - 予約状況の確認
- **予約承認・拒否** - 予約リクエストへの対応

---

### 1️⃣1️⃣ **パーソナルトレーナー機能**

#### 👨‍🏫 **トレーナーダッシュボード**
- **会員管理** - PT会員の一覧表示
- **会員詳細** - 個別会員のトレーニング履歴確認
- **セッション記録** - PT指導内容の記録
- **セッション一覧** - 過去のセッション履歴

#### 📝 **会員トレーニング記録**
- **代理記録** - トレーナーが会員のトレーニングを記録
- **トレーニングメニュー作成** - 会員向けメニューの作成
- **進捗確認** - 会員の成長・PR更新を確認

#### 🔐 **PTパスワード認証**
- **セキュリティ機能** - PT専用機能への��クセス制限
- **パスワード設定** - トレーナー専用パスワード管理

---

### 1️⃣2️⃣ **キャンペーン機能**

#### 🎉 **乗り換えキャンペーン**
- **応募登録** - 他アプリからの乗り換え割引申請
- **現在使用アプリ入力** - 乗り換え元アプリ情報
- **審査ステータス** - pending/approved/rejected
- **SNSシェア** - キャンペーン応募をSNSで共有

#### 🎁 **招待コード**
- **招待コード入力** - 友達紹介コードの入力
- **特典付与** - コード入力で特典獲得（予定）

---

### 1️⃣3️⃣ **通知機能（開発予定）**

#### 🔔 **プッシュ通知**
- **トレーニングリマインダー** - 定期的なトレーニング通知
- **PR達成通知** - 新記録達成時の通知
- **目標期限通知** - 目標期限が近づいた時の通知
- **メッセージ通知** - 新着メッセージ受信時

#### ⚙️ **通知設定**
- **通知ON/OFF** - 各種通知の有効/無効切り替え
- **通知時間設定** - リマインダーの時間指定
- **通知頻度設定** - 通知の頻度調整

---

### 1️⃣4️⃣ **設定・その他**

#### ⚙️ **アプリ設定**
- **テーマ切り替え** - ライト/ダークモード
- **言語設定** - 日本語（今後多言語対応予定）
- **単位設定** - kg/lbs切り替え（予定）
- **データ同期** - Firebase自動同期

#### 📜 **法的情報**
- **利用規約** - Terms of Use表示
- **プライバシーポリシー** - Privacy Policy表示
- **特定商取引法表記** - 法的表記の表示

#### 🔧 **開発者メニュー**
- **データ移行ツール** - Phase移行用の管理機能
- **デバッグ機能** - 開発用のデバッグツール
- **テストデータ生成** - テスト用データの作成

#### 📱 **オフライン対応**
- **ローカルキャッシュ（Hive）** - オフライン時のデータ保存
- **オフライン記録** - ネット接続なしでも記録可能
- **自動同期** - 接続回復時に自動アップロード

---

## 📊 データ管理

### Firebase Firestore（22コレクション）
- `gyms/` - ジム情報
- `users/` - ユーザープロファイル
- `workout_logs/` - トレーニング記録
- `personal_records/` - パーソナルレコード
- `weekly_reports/` - 週次レポート
- `goals/` - 目標
- `achievements/` - 達成バッジ
- `crowd_reports/` - 混雑度レポート
- `reviews/` - ジムレビュー
- `favorites/` - お気に入り
- `reservations/` - PT予約
- `training_partners/` - トレーニングパートナー
- `chat_rooms/` - チャットルーム
- `chat_messages/` - チャットメッセージ
- `friend_requests/` - フレンドリクエスト
- `gym_announcements/` - ジムお知らせ
- `partner_profiles/` - パートナージムプロファイル
- `pt_members/` - PT会員
- `pt_sessions/` - PTセッション
- `campaign_applications/` - キャンペーン応募
- `notifications/` - 通知
- `partner_access/` - パートナーアクセス記録

### ローカルストレージ（SharedPreferences）
- AI使用回数管理
- プラン情報キャッシュ
- ユーザー設定

### ローカルDB（Hive）
- オフラインデータキャッシュ

---

## 🎨 UI/UX機能

### ナビゲーション
- **ボトムナビゲーションバー** - 記録・マップ・プロフィールの3タブ
- **ドロワーメニュー** - サイドメニューで各種機能へアクセス
- **戻るボタン対応** - スムーズな画面遷移

### デザイン
- **マテリアルデザイン** - Flutter Material Design 3
- **ダークモード対応** - システム設定に連動
- **レスポンシブ対応** - 各種画面サイズに対応

### 広告表示（無料プラン）
- **AdMob統合** - Google AdMob広告
- **バナー広告** - 画面下部に常時表示
- **インタースティシャル広告** - 画面遷移時に表示
- **リワード広告** - AI機能使用のための視聴広告

---

## 🔒 セキュリティ・プライバシー

### データ保護
- **Firebase Authentication** - 安全な認証
- **Firestore Security Rules** - データアクセス制御
- **匿名化処理** - 個人情報の適切な管理

### プライバシー
- **位置情報** - ユーザー同意の元で使用
- **データ削除** - ユーザーによるデータ削除機能（予定）

---

## 📈 今後の開発予定機能

### 高優先度
- [ ] プッシュ通知実装（Firebase Cloud Messaging）
- [ ] データバックアップ・復元機能
- [ ] ユーザーデータ削除機能（GDPR対応）

### 中優先度
- [ ] 動画フォームチェック機能
- [ ] 栄養管理機能
- [ ] 体重・体脂肪率トラッキング
- [ ] トレーニングプラン自動生成

### 低優先度
- [ ] ウェアラブルデバイス連携
- [ ] 多言語対応（英語・中国語等）
- [ ] Apple Watch対応
- [ ] ソーシャル機能強化

---

## 🔢 機能統計

- **総画面数**: 80以上
- **総Dartファイル数**: 167
- **サービス層**: 40個
- **データモデル**: 23個
- **Firestoreコレクション**: 22個

---

**このドキュメントは実装コードベースで作成された最新の機能一覧です。**
