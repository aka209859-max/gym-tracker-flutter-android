# 【徹底厳守ルール】GYM MATCH 開発・審査ルール

## 🚨 絶対に守るべき鉄則

### ❌ iOS版に関する厳禁事項

#### Apple審査で却下される要因
1. **「Android」という文字が含まれている**
   - コード内のコメント
   - 変数名
   - 設定ファイル
   - ドキュメント
   
2. **Android関連のコード・設定**
   - Android固有のAPI呼び出し
   - Android用パッケージ
   - Google Play関連の記述
   - Android用AdMob設定

### ✅ 正しいプロジェクト構成

```
プロジェクト管理:
├── gymmap/          ← iOS専用プロジェクト（現在の審査中プロジェクト）
│   ├── 【厳禁】Androidの文字・コード・設定を一切含めない
│   ├── 【必須】iOS専用として完全独立
│   └── 【必須】Apple Store審査基準を100%遵守
│
└── gymmap_android/  ← Android専用プロジェクト（今後作成予定）
    ├── 【厳禁】iOSの文字・コード・設定を一切含めない
    ├── 【必須】Android専用として完全独立
    └── 【必須】Google Play審査基準を100%遵守
```

---

## 📋 Android版作成プロセス

### Phase 1: プロジェクト複製
```bash
# iOS専用コード（gymmap/）を完全コピー
# 新しいディレクトリ（gymmap_android/）として作成
```

### Phase 2: Android専用に変換

#### 削除するもの
- ✂️ iOS固有のコード・設定
- ✂️ Apple Store関連の記述
- ✂️ iOS専用の広告ID
- ✂️ Cocoapods関連
- ✂️ Info.plist設定
- ✂️ Xcode project設定

#### 追加・変更するもの
- ➕ Android固有の設定
- ➕ Google Play Store関連
- ➕ Android用AdMob設定
- ➕ AndroidManifest.xml設定
- ➕ Gradle設定

### Phase 3: 個別管理

```
運用ルール:
1. iOS版で機能追加・修正
   └─→ iOS版をビルド・審査提出

2. Android版に手動で同じ修正を適用
   └─→ Android版をビルド・審査提出

⚠️ 二重メンテナンスが必要
✅ 審査を確実に通せる
```

---

## 🔒 コード変更時の確認事項

### iOS版（gymmap/）に変更を加える前
- [ ] この変更はiOS専用か？
- [ ] Androidに関する文字・コードが含まれていないか？
- [ ] Apple審査基準に準拠しているか？

### Android版（gymmap_android/）に変更を加える前
- [ ] この変更はAndroid専用か？
- [ ] iOSに関する文字・コードが含まれていないか？
- [ ] Google Play審査基準に準拠しているか？

---

## 📝 審査提出時のチェックリスト

### iOS版提出前
1. ✅ プロジェクト全体で「Android」という文字列を検索
   ```bash
   grep -r "Android" --exclude-dir=node_modules --exclude-dir=.git
   ```
2. ✅ Android関連のimport文がないか確認
3. ✅ AndroidManifest.xml等のファイルが含まれていないか確認
4. ✅ iOS専用のビルド設定になっているか確認

### Android版提出前
1. ✅ プロジェクト全体で「iOS」「Apple」という文字列を検索
   ```bash
   grep -r "iOS\|Apple" --exclude-dir=node_modules --exclude-dir=.git
   ```
2. ✅ iOS関連のimport文がないか確認
3. ✅ Info.plist等のファイルが含まれていないか確認
4. ✅ Android専用のビルド設定になっているか確認

---

## 🎯 実際の審査却下事例

### 事例: Apple審査で却下
**原因**: iOS版に「Android」の文字が含まれていた
**対応**: 該当箇所を完全削除してiOS専用に修正
**教訓**: クロスプラットフォームの概念は捨て、完全分離が必須

---

## 💡 重要な心構え

### ❌ 間違った考え方
```
「Flutterはクロスプラットフォームだから
 1つのコードでiOS・Android両対応できる」
```

### ✅ 正しい考え方（GYM MATCHの場合）
```
「Apple審査の厳格なルールに従うため
 iOS版とAndroid版は完全に分離する」
```

---

## 🔄 アップデート時の手順

### 機能追加・バグ修正のフロー

```mermaid
1. iOS版（gymmap/）で開発・修正
   ↓
2. iOS版のビルド・テスト
   ↓
3. iOS版をApp Store審査に提出
   ↓
4. 【並行作業】Android版（gymmap_android/）に手動移植
   ↓
5. Android版のビルド・テスト
   ↓
6. Android版をGoogle Play審査に提出
```

**⚠️ 注意**: 自動化・共通化は不可。完全手動管理が必須。

---

## 📞 このルールの呼び出し方

ユーザーが **「徹底厳守ルール」** と発言したら、
このファイルの内容を即座に思い出し、遵守すること。

---

## 📅 作成日
2025-11-28

## 📌 ステータス
- iOS版（gymmap/）: 審査提出済み（Version 1.0.99）
- Android版（gymmap_android/）: 未作成

## 🔐 このルールの重要性
**最重要**: このルールを破ると審査却下 → リリース遅延 → ビジネスに悪影響

---

**END OF 徹底厳守ルール**
